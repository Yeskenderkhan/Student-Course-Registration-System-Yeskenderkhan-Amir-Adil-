<div class="mt-3">
    <button disabled th:if="${student.courses.contains(c)}"
            class="btn btn-success w-100 fw-bold">
        âœ… You are Enrolled
    </button>

    <div th:if="${!student.courses.contains(c) and c.prerequisite != null and !student.courses.contains(c.prerequisite)}">
        <button disabled class="btn btn-secondary w-100" style="opacity: 0.7;">
            ðŸ”’ Locked
        </button>
        <div class="text-danger small text-center mt-1 fw-bold">
            Pass "<span th:text="${c.prerequisite.title}"></span>" first!
        </div>
    </div>

    <button disabled th:if="${!student.courses.contains(c)
                                            and (c.prerequisite == null or student.courses.contains(c.prerequisite))
                                            and (student.currentCredits + c.credits > 20)}"
            class="btn btn-warning w-100 text-dark">
        â›” Not enough credits space
    </button>

    <form th:if="${c.hasSeats()
                                              and !student.courses.contains(c)
                                              and (student.currentCredits + c.credits <= 20)
                                              and (c.prerequisite == null or student.courses.contains(c.prerequisite))}"
          th:action="@{/enroll/{id}(id=${c.id})}" method="post">
        <button type="submit" class="btn btn-primary w-100 shadow-sm">
            Enroll (<span th:text="${c.credits}"></span> cr)
        </button>
    </form>

    <button disabled th:if="${!c.hasSeats() and !student.courses.contains(c)}"
            class="btn btn-danger w-100">
        Full Class
    </button>
</div>